<div class="messages-list-container">

  <!--  Header of Conversation-->
  <div class="header">
    <div class="avatar-block" (click)="onClick()">
      <img alt="" class="avatar" src="{{ partner?.avatarUrl }}">
      <div class="status"></div>
    </div>
    <div class="name-block">
      <div class="name">{{ partner?.name }}</div>
      <div class="active">Active now</div>
    </div>

    <!--Options-->
    <div class="options">
      <button class="btn-delete" (click)="deleteConversation()">
        <app-svg-icon [name]="'delete'"></app-svg-icon>
      </button>
    </div>
  </div>

  <!--  List messages in conversation-->
  <div class="main">
    <ng-container *ngFor="let message of messagesList">
      <div class="message-inline">
        <img *ngIf="message.senderId !== curUser._id"
             class="avatar"
             [matTooltipPosition]="'left'"
             matTooltip="{{ partner.name }}"
             src="{{ partner.avatarUrl }}" alt="">
        <div
          [ngClass]="[message.msg !== emoji ? 'content' : 'like', message.senderId === curUser._id ? 'me' : 'partner']"
          matTooltip="{{ message.Date | timeAgo }}"
          [matTooltipPosition]="'below'"
          [style]="message.senderId === curUser._id && message.msg !== emoji ? {'background': color} : {}">
          {{message.msg}}
        </div>
      </div>
    </ng-container>
  </div>

  <!--  Footer - new message and emoji-->
  <div class="footer">
    <div class="new-message-container">
      <div class="option-block" [@enterAnimation] *ngIf="!content">
        <button class="btn">
          <svg width="24" height="24" viewBox="0 0 34 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.5 0C1.56154 0 0 1.56154 0 3.5V24.5C0 26.4385 1.56154 28 3.5 28H30.4231C32.3615 28 33.9231 26.4385 33.9231 24.5V3.5C33.9231 1.56154 32.3615 0 30.4231 0H3.5ZM3.5 1.61538H30.4231C31.4731 1.61538 32.3077 2.45 32.3077 3.5V12.7616C32.3077 13.2463 31.8768 13.6232 31.3922 13.5693C19.7076 11.7924 11.6308 16.1001 8.48077 25.8193C8.37308 26.1424 8.07682 26.3846 7.69989 26.3846H3.5C2.45 26.3846 1.61538 25.55 1.61538 24.5V3.5C1.61538 2.45 2.45 1.61538 3.5 1.61538ZM9.42308 4.83932C8.25192 4.83932 7.08077 5.29038 6.19231 6.19231C4.41538 7.96923 4.41538 10.8768 6.19231 12.6807C7.08077 13.5691 8.26538 14.0268 9.42308 14.0268C10.5808 14.0268 11.7654 13.5691 12.6538 12.6807C14.4308 10.9037 14.4308 7.99615 12.6538 6.19231C11.7654 5.29038 10.5942 4.83932 9.42308 4.83932Z" fill="#009AEC"/>
          </svg>
        </button>
        <button class="btn">
          <svg width="24" height="24" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.9086 0C4.53484 1.49762 0 7.17525 0 13.8045C0 21.6333 6.36667 28 14.1955 28C20.8318 28 26.5024 23.4581 28 17.0914C27.5741 17.134 27.156 17.1482 26.7302 17.1482C22.5354 17.1482 18.5317 15.5013 15.5152 12.4848C12.1935 9.16306 10.5324 4.65611 10.9086 0ZM13.0171 0.304981C12.7474 4.28681 14.1745 8.13311 17.0207 10.9793C19.8669 13.8255 23.7271 15.2668 27.7089 14.9829C26.9565 13.9324 25.0975 11.8878 20.6472 7.43044C16.1543 2.94467 14.0818 1.06444 13.0171 0.304981Z" fill="#009AEC"/>
          </svg>
        </button>
      </div>
      <input (keyup.enter)="sendText()" [(ngModel)]="content" class="new-message-input" placeholder="Aa"
             type="text">
      <button class="btn-send">
        <svg (click)="sendLike()" *ngIf="!content" class="like" fill="none" height="28" viewBox="0 0 35 33"
             width="28"
             xmlns="http://www.w3.org/2000/svg">
          <path
            d="M16.6195 0.543367C15.9018 0.609033 15.2629 1.13205 15.092 1.88816L14.149 6.04539L9.5402 11.1656C8.97747 11.7895 8.66692 12.6002 8.66692 13.4401V29.136C8.66692 31.0146 10.1885 32.5361 12.0671 32.5361H25.7209C26.9806 32.5361 28.1212 31.7944 28.6329 30.6435L33.7365 19.1579C34.0204 18.5221 34.1682 17.8328 34.1682 17.1358V15.5353C34.1682 13.6652 32.6381 12.1351 30.768 12.1351H18.8674C18.8674 12.1351 20.5675 8.10472 20.5675 5.10238C20.5675 2.36014 18.8035 1.15997 17.35 0.63634C17.1073 0.548361 16.8587 0.521478 16.6195 0.543367ZM2.71663 12.1351C1.30896 12.1351 0.166504 13.2776 0.166504 14.6853V29.986C0.166504 31.3937 1.30896 32.5361 2.71663 32.5361C4.1243 32.5361 5.26675 31.3937 5.26675 29.986V14.6853C5.26675 13.2776 4.1243 12.1351 2.71663 12.1351Z"
            fill="#0099FF"/>
        </svg>
        <svg (click)="sendText()" *ngIf="!!content" class="send" fill="none" height="28" viewBox="0 0 28 28"
             width="28" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M26.8333 0C26.7214 0.000768085 26.6101 0.0176513 26.5029 0.0501302C26.4714 0.0586913 26.4402 0.0685742 26.4095 0.0797526L0.758789 8.2373V8.24186C0.536234 8.32491 0.344333 8.47391 0.208739 8.66896C0.0731451 8.864 0.000320421 9.09579 0 9.33333C0.000424979 9.53367 0.0524305 9.73052 0.151007 9.90492C0.249584 10.0793 0.39141 10.2254 0.562826 10.3291L8.35807 16.5133L23.7686 4.23145L11.4867 19.6419L17.6663 27.4326C17.7699 27.6055 17.9164 27.7487 18.0917 27.8481C18.267 27.9476 18.4651 27.9999 18.6667 28C18.9042 27.9997 19.136 27.9269 19.331 27.7913C19.5261 27.6557 19.6751 27.4638 19.7581 27.2412H19.7627L27.9271 1.56771C27.9354 1.54441 27.943 1.52085 27.9499 1.49707C27.9823 1.38991 27.9992 1.27864 28 1.16667C28 0.857247 27.8771 0.560501 27.6583 0.341709C27.4395 0.122916 27.1428 0 26.8333 0V0Z"
            fill="#0099FF"/>
        </svg>
      </button>
    </div>
  </div>
</div>
